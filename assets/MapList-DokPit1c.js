import{A as le,d as K,x as h,c as M,o as _,B as _e,w as T,a as v,C as Te,e as L,t as p,D as Ve,E as Ce,G as ke,g as D,F as X,h as U,_ as Be,H as E,I as ie,J as $e,K as W,L as Pe,r as z,M as R,j as G,m as I,N as Ie,O as Ee,P as We,k as B,Q,R as O,S as Re,T as Ye,U as Me,W as Xe,z as F,v as Ae,X as k,Y as re,Z as j,$ as He,a0 as Le,a1 as ue,a2 as ce,a3 as ae,a4 as pe,a5 as de,a6 as De,a7 as ve,a8 as fe,a9 as ze,aa as Ge,ab as Oe,ac as je,ad as Ue,ae as Fe,af as Ne,ag as qe,ah as Je,ai as Ke,aj as Qe,ak as Ze,al as et,am as tt,s as at,l as nt,u as Y,an as ne,ao as oe}from"./index-Ck9i7U5g.js";import{V as se,m as ot}from"./VSlideGroup-DE3KTn_7.js";const st=e=>{const{touchstartX:t,touchendX:n,touchstartY:a,touchendY:s}=e,l=.5,o=16;e.offsetX=n-t,e.offsetY=s-a,Math.abs(e.offsetY)<l*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<l*Math.abs(e.offsetY)&&(e.up&&s<a-o&&e.up(e),e.down&&s>a+o&&e.down(e))};function lt(e,t){const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,t.start?.({originalEvent:e,...t})}function it(e,t){const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,t.end?.({originalEvent:e,...t}),st(t)}function rt(e,t){const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,t.move?.({originalEvent:e,...t})}function ut(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>lt(n,t),touchend:n=>it(n,t),touchmove:n=>rt(n,t)}}function ct(e,t){const n=t.value,a=n?.parent?e.parentElement:e,s=n?.options??{passive:!0},l=t.instance?.$.uid;if(!a||l===void 0)return;const o=ut(t.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[l]=o,le(o).forEach(r=>{a.addEventListener(r,o[r],s)})}function dt(e,t){const n=t.value?.parent?e.parentElement:e,a=t.instance?.$.uid;if(!n?._touchHandlers||a===void 0)return;const s=n._touchHandlers[a];le(s).forEach(l=>{n.removeEventListener(l,s[l])}),delete n._touchHandlers[a]}const N={mounted:ct,unmounted:dt},vt=K({__name:"MapSummaryTile",props:{mapSummary:{}},setup(e){const t=e,n=h(()=>({path:`/map/${t.mapSummary.id}`})),a=h(()=>`/api/preview/${t.mapSummary.id}.png`),s=h(()=>t.mapSummary.name),l=h(()=>`${t.mapSummary.worldType} - ${t.mapSummary.width}x${t.mapSummary.height}`),o=h(()=>`by ${t.mapSummary.author}`);return(r,u)=>(_(),M(_e,{to:n.value,class:"pa-2",density:"compact",width:"222"},{default:T(()=>[v(Te,{"aspect-ratio":"1",cover:"",height:"206",width:"206",src:a.value},null,8,["src"]),v(Ve,null,{default:T(()=>[L(p(s.value),1)]),_:1}),v(Ce,null,{default:T(()=>[L(p(l.value),1)]),_:1}),v(ke,null,{default:T(()=>[L(p(o.value),1)]),_:1})]),_:1},8,["to"]))}}),ft={class:"map-group-list"},mt=K({__name:"MapGroupList",props:{mapSummaries:{}},setup(e){return(t,n)=>(_(),D("div",ft,[(_(!0),D(X,null,U(e.mapSummaries,a=>(_(),M(vt,{key:`${a.group}/${a.id}`,"map-summary":a},null,8,["map-summary"]))),128))]))}}),ht=Be(mt,[["__scopeId","data-v-5a9911bc"]]),Z=Symbol.for("vuetify:v-tabs"),me=E({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ie($e({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),he=W()({name:"VTab",props:me(),setup(e,t){let{slots:n,attrs:a}=t;const{textColorClasses:s,textColorStyles:l}=Pe(()=>e.sliderColor),o=z(),r=z(),u=h(()=>e.direction==="horizontal"),f=h(()=>o.value?.group?.isSelected.value??!1);function V(b){let{value:i}=b;if(i){const w=o.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),g=r.value;if(!w||!g)return;const A=getComputedStyle(w).color,y=w.getBoundingClientRect(),S=g.getBoundingClientRect(),$=u.value?"x":"y",P=u.value?"X":"Y",m=u.value?"right":"bottom",c=u.value?"width":"height",d=y[$],C=S[$],x=d>C?y[m]-S[m]:y[$]-S[$],H=Math.sign(x)>0?u.value?"right":"bottom":Math.sign(x)<0?u.value?"left":"top":"center",ee=(Math.abs(x)+(Math.sign(x)<0?y[c]:S[c]))/Math.max(y[c],S[c])||0,xe=y[c]/S[c]||0,te=1.5;Ee(g,{backgroundColor:[A,"currentcolor"],transform:[`translate${P}(${x}px) scale${P}(${xe})`,`translate${P}(${x/te}px) scale${P}(${(ee-1)/te+1})`,"none"],transformOrigin:Array(3).fill(H)},{duration:225,easing:We})}}return R(()=>{const b=G.filterProps(e);return v(G,I({symbol:Z,ref:o,class:["v-tab",e.class],style:e.style,tabindex:f.value?0:-1,role:"tab","aria-selected":String(f.value),active:!1},b,a,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":V}),{...n,default:()=>B(X,null,[n.default?.()??e.text,!e.hideSlider&&B("div",{ref:r,class:O(["v-tab__slider",s.value]),style:Q(l.value)},null)])})}),Ie({},o)}}),ge=Symbol.for("vuetify:v-window"),be=Symbol.for("vuetify:v-window-group"),we=E({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},crossfade:Boolean,transitionDuration:Number,...ce(),...ue(),...Le()},"VWindow"),q=W()({name:"VWindow",directives:{vTouch:N},props:we(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:a}=Re(e),{isRtl:s}=Ye(),{t:l}=Me(),o=Xe(e,be),r=z(),u=h(()=>s.value?!e.reverse:e.reverse),f=F(!1),V=h(()=>{if(e.crossfade)return"v-window-crossfade-transition";const m=e.direction==="vertical"?"y":"x",d=(u.value?!f.value:f.value)?"-reverse":"";return`v-window-${m}${d}-transition`}),b=F(0),i=z(void 0),w=h(()=>o.items.value.findIndex(m=>o.selected.value.includes(m.id)));Ae(w,(m,c)=>{let d;const C={left:0,top:0};ae&&c>=0&&(d=pe(r.value),C.left=d?.scrollLeft,C.top=d?.scrollTop);const x=o.items.value.length,H=x-1;x<=2?f.value=m<c:m===H&&c===0?f.value=!1:m===0&&c===H?f.value=!0:f.value=m<c,de(()=>{if(!ae||!d)return;d.scrollTop!==C.top&&d.scrollTo({...C,behavior:"instant"}),requestAnimationFrame(()=>{if(!d)return;d.scrollTop!==C.top&&d.scrollTo({...C,behavior:"instant"})})})},{flush:"sync"}),De(ge,{transition:V,isReversed:f,transitionCount:b,transitionHeight:i,rootRef:r});const g=k(()=>e.continuous||w.value!==0),A=k(()=>e.continuous||w.value!==o.items.value.length-1);function y(){g.value&&o.prev()}function S(){A.value&&o.next()}const $=h(()=>{const m=[],c={icon:s.value?e.nextIcon:e.prevIcon,class:`v-window__${u.value?"right":"left"}`,onClick:o.prev,"aria-label":l("$vuetify.carousel.prev")};m.push(g.value?n.prev?n.prev({props:c}):v(G,c,null):B("div",null,null));const d={icon:s.value?e.prevIcon:e.nextIcon,class:`v-window__${u.value?"left":"right"}`,onClick:o.next,"aria-label":l("$vuetify.carousel.next")};return m.push(A.value?n.next?n.next({props:d}):v(G,d,null):B("div",null,null)),m}),P=h(()=>e.touch===!1?e.touch:{...{left:()=>{u.value?y():S()},right:()=>{u.value?S():y()},start:c=>{let{originalEvent:d}=c;d.stopPropagation()}},...e.touch===!0?{}:e.touch});return R(()=>re(v(e.tag,{ref:r,class:O(["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover","v-window--vertical-arrows":!!e.verticalArrows,"v-window--crossfade":!!e.crossfade},a.value,e.class]),style:Q([e.style,e.transitionDuration&&!He?{"--v-window-transition-duration":j(e.transitionDuration,"ms")}:void 0])},{default:()=>[B("div",{class:"v-window__container",style:{height:i.value}},[n.default?.({group:o}),e.showArrows!==!1&&B("div",{class:O(["v-window__controls",{"v-window__controls--left":e.verticalArrows==="left"||e.verticalArrows===!0},{"v-window__controls--right":e.verticalArrows==="right"}])},[$.value])]),n.additional?.({group:o})]}),[[N,P.value]])),{group:o}}}),gt=E({...ie(we(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),bt=W()({name:"VTabsWindow",props:gt(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=ve(Z,null),s=fe(e,"modelValue"),l=h({get(){return s.value!=null||!a?s.value:a.items.value.find(o=>a.selected.value.includes(o.id))?.value},set(o){s.value=o}});return R(()=>{const o=q.filterProps(e);return v(q,I({_as:"VTabsWindow"},o,{modelValue:l.value,"onUpdate:modelValue":r=>l.value=r,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),ye=E({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ce(),...Fe(),...Ue()},"VWindowItem"),J=W()({name:"VWindowItem",directives:{vTouch:N},props:ye(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const a=ve(ge),s=ze(e,be),{isBooted:l}=Ge();if(!a||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=F(!1),r=h(()=>l.value&&(a.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function u(){!o.value||!a||(o.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,a.transitionCount.value===0&&(a.transitionHeight.value=void 0)))}function f(){o.value||!a||(o.value=!0,a.transitionCount.value===0&&(a.transitionHeight.value=j(a.rootRef.value?.clientHeight)),a.transitionCount.value+=1)}function V(){u()}function b(g){o.value&&de(()=>{!r.value||!o.value||!a||(a.transitionHeight.value=j(g.clientHeight))})}const i=h(()=>{const g=a.isReversed.value?e.reverseTransition:e.transition;return r.value?{name:typeof g!="string"?a.transition.value:g,onBeforeEnter:f,onAfterEnter:u,onEnterCancelled:V,onBeforeLeave:f,onAfterLeave:u,onLeaveCancelled:V,onEnter:b}:!1}),{hasContent:w}=Oe(e,s.isSelected);return R(()=>v(je,{transition:i.value,disabled:!l.value},{default:()=>[re(B("div",{class:O(["v-window-item",s.selectedClass.value,e.class]),style:Q(e.style)},[w.value&&n.default?.()]),[[Ne,s.isSelected.value]])]})),{groupItem:s}}}),wt=E({...ye()},"VTabsWindowItem"),yt=W()({name:"VTabsWindowItem",props:wt(),setup(e,t){let{slots:n}=t;return R(()=>{const a=J.filterProps(e);return v(J,I({_as:"VTabsWindowItem"},a,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function St(e){return e?e.map(t=>tt(t)?t:{text:t,value:t}):[]}const xt=E({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...et(me(),["spaced"]),...ot({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Ze(),...ue()},"VTabs"),_t=W()({name:"VTabs",props:xt(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const s=fe(e,"modelValue"),l=h(()=>St(e.items)),{densityClasses:o}=qe(e),{backgroundColorClasses:r,backgroundColorStyles:u}=Je(()=>e.bgColor),{scopeId:f}=Ke();return Qe({VTab:{color:k(()=>e.color),direction:k(()=>e.direction),stacked:k(()=>e.stacked),fixed:k(()=>e.fixedTabs),sliderColor:k(()=>e.sliderColor),hideSlider:k(()=>e.hideSlider)}}),R(()=>{const V=se.filterProps(e),b=!!(a.window||e.items.length>0);return B(X,null,[v(se,I(V,{modelValue:s.value,"onUpdate:modelValue":i=>s.value=i,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,r.value,e.class],style:[{"--v-tabs-height":j(e.height)},u.value,e.style],role:"tablist",symbol:Z},f,n),{default:()=>[a.default?.()??l.value.map(i=>a.tab?.({item:i})??v(he,I(i,{key:i.text,value:i.value,spaced:e.spaced}),{default:a[`tab.${i.value}`]?()=>a[`tab.${i.value}`]?.({item:i}):void 0}))]}),b&&v(bt,I({modelValue:s.value,"onUpdate:modelValue":i=>s.value=i,key:"tabs-window"},f),{default:()=>[l.value.map(i=>a.item?.({item:i})??v(yt,{value:i.value},{default:()=>a[`item.${i.value}`]?.({item:i})})),a.window?.()]})])}),{}}}),Ct=K({__name:"MapList",setup(e){const{mapsStore:t}=at(),{group:n,groupMaps:a}=t;return(s,l)=>(_(),M(nt,{fluid:"",class:"d-flex flex-column pa-0"},{default:T(()=>[v(_t,{modelValue:Y(n),"onUpdate:modelValue":l[0]||(l[0]=o=>oe(n)?n.value=o:null),class:"flex-grow-0 flex-shrink-0",grow:""},{default:T(()=>[(_(!0),D(X,null,U(Y(ne),([o,r])=>(_(),M(he,{key:o,value:o},{default:T(()=>[L(p(r),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),v(q,{modelValue:Y(n),"onUpdate:modelValue":l[1]||(l[1]=o=>oe(n)?n.value=o:null),class:"flex-fill overflow-y-auto"},{default:T(()=>[(_(!0),D(X,null,U(Y(ne),([o])=>(_(),M(J,{key:o,value:o},{default:T(()=>[v(ht,{"map-summaries":Y(a)},null,8,["map-summaries"])]),_:1},8,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}))}});export{Ct as default};
