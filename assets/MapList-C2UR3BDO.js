import{B as ie,d as Z,x as h,c as X,o as C,C as Ce,w as V,a as v,D as Ve,e as G,t as O,E as ke,G as Be,H as Pe,g as z,F as A,h as F,_ as $e,I as W,J as R,K as Ee,L as re,r as N,M as Y,j,m as E,N as Ie,O as ue,P as We,Q as Re,R as Ye,k as B,S as p,T as U,U as Me,W as Xe,X as Ae,Y as De,A as q,v as He,Z as S,$ as ce,a0 as I,a1 as Le,a2 as Ge,a3 as de,a4 as ve,a5 as ae,a6 as Oe,a7 as fe,a8 as ze,a9 as me,aa as he,ab as Ne,ac as je,ad as Ue,ae as Fe,af as qe,ag as Je,ah as Ke,ai as Qe,aj as Ze,ak as pe,al as et,am as tt,an as nt,s as at,l as ot,u as M,ao as oe,ap as se}from"./index-DClP-mhw.js";import{V as le,m as st}from"./VSlideGroup-DJmsq3yQ.js";const lt=e=>{const{touchstartX:n,touchendX:a,touchstartY:t,touchendY:s}=e,l=.5,o=16;e.offsetX=a-n,e.offsetY=s-t,Math.abs(e.offsetY)<l*Math.abs(e.offsetX)&&(e.left&&a<n-o&&e.left(e),e.right&&a>n+o&&e.right(e)),Math.abs(e.offsetX)<l*Math.abs(e.offsetY)&&(e.up&&s<t-o&&e.up(e),e.down&&s>t+o&&e.down(e))};function it(e,n){const a=e.changedTouches[0];n.touchstartX=a.clientX,n.touchstartY=a.clientY,n.start?.({originalEvent:e,...n})}function rt(e,n){const a=e.changedTouches[0];n.touchendX=a.clientX,n.touchendY=a.clientY,n.end?.({originalEvent:e,...n}),lt(n)}function ut(e,n){const a=e.changedTouches[0];n.touchmoveX=a.clientX,n.touchmoveY=a.clientY,n.move?.({originalEvent:e,...n})}function ct(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:a=>it(a,n),touchend:a=>rt(a,n),touchmove:a=>ut(a,n)}}function dt(e,n){const a=n.value,t=a?.parent?e.parentElement:e,s=a?.options??{passive:!0},l=n.instance?.$.uid;if(!t||l===void 0)return;const o=ct(n.value);t._touchHandlers=t._touchHandlers??Object.create(null),t._touchHandlers[l]=o,ie(o).forEach(c=>{t.addEventListener(c,o[c],s)})}function vt(e,n){const a=n.value?.parent?e.parentElement:e,t=n.instance?.$.uid;if(!a?._touchHandlers||t===void 0)return;const s=a._touchHandlers[t];ie(s).forEach(l=>{a.removeEventListener(l,s[l])}),delete a._touchHandlers[t]}const J={mounted:dt,unmounted:vt},ft=Z({__name:"MapSummaryTile",props:{mapSummary:{}},setup(e){const n=e,a=h(()=>({path:`/map/${n.mapSummary.id}`})),t=h(()=>`/api/preview/${n.mapSummary.id}.png`),s=h(()=>n.mapSummary.name),l=h(()=>`${n.mapSummary.worldType} - ${n.mapSummary.width}x${n.mapSummary.height}`),o=h(()=>`by ${n.mapSummary.author}`);return(c,f)=>(C(),X(Ce,{to:a.value,class:"pa-2",density:"compact",width:"222"},{default:V(()=>[v(Ve,{"aspect-ratio":"1",cover:"",height:"206",width:"206",src:t.value},null,8,["src"]),v(ke,null,{default:V(()=>[G(O(s.value),1)]),_:1}),v(Be,null,{default:V(()=>[G(O(l.value),1)]),_:1}),v(Pe,null,{default:V(()=>[G(O(o.value),1)]),_:1})]),_:1},8,["to"]))}}),mt={class:"map-group-list"},ht=Z({__name:"MapGroupList",props:{mapSummaries:{}},setup(e){return(n,a)=>(C(),z("div",mt,[(C(!0),z(A,null,F(e.mapSummaries,t=>(C(),X(ft,{key:`${t.group}/${t.id}`,"map-summary":t},null,8,["map-summary"]))),128))]))}}),gt=$e(ht,[["__scopeId","data-v-5a9911bc"]]),ee=Symbol.for("vuetify:v-tabs"),ge=R({fixed:Boolean,sliderColor:String,sliderTransition:String,sliderTransitionDuration:[String,Number],hideSlider:Boolean,inset:Boolean,direction:{type:String,default:"horizontal"},...ue(We({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),be=W()({name:"VTab",props:ge(),setup(e,n){let{slots:a,attrs:t}=n;const{textColorClasses:s,textColorStyles:l}=Ee(()=>e.sliderColor),{backgroundColorClasses:o,backgroundColorStyles:c}=re(()=>e.sliderColor),f=N(),m=N(),g=h(()=>e.direction==="horizontal"),T=h(()=>f.value?.group?.isSelected.value??!1);function i(_,k){return{opacity:[0,1]}}function P(_,k){return e.direction==="vertical"?{transform:["scaleY(0)","scaleY(1)"]}:{transform:["scaleX(0)","scaleX(1)"]}}function x(_,k){const w=k.getBoundingClientRect(),y=_.getBoundingClientRect(),u=g.value?"x":"y",d=g.value?"X":"Y",r=g.value?"right":"bottom",b=g.value?"width":"height",H=w[u],L=y[u],$=H>L?w[r]-y[r]:w[u]-y[u],te=Math.sign($)>0?g.value?"right":"bottom":Math.sign($)<0?g.value?"left":"top":"center",xe=(Math.abs($)+(Math.sign($)<0?w[b]:y[b]))/Math.max(w[b],y[b])||0,_e=w[b]/y[b]||0,ne=1.5;return{transform:[`translate${d}(${$}px) scale${d}(${_e})`,`translate${d}(${$/ne}px) scale${d}(${(xe-1)/ne+1})`,"none"],transformOrigin:Array(3).fill(te)}}function D(_){let{value:k}=_;if(k){const w=f.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),y=m.value;if(!w||!y)return;const u=getComputedStyle(w).color,d={fade:i,grow:P,shift:x}[e.sliderTransition??"shift"]??x,r=Number(e.sliderTransitionDuration)||({fade:400,grow:350,shift:225}[e.sliderTransition??"shift"]??225);Re(y,{backgroundColor:[u,"currentcolor"],...d(y,w)},{duration:r,easing:Ye})}}return Y(()=>{const _=j.filterProps(e);return v(j,E({symbol:ee,ref:f,class:["v-tab",e.class,T.value&&e.inset?o.value:[]],style:[e.style,T.value&&e.inset?c.value:[]],tabindex:T.value?0:-1,role:"tab","aria-selected":String(T.value),active:!1},_,t,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":D}),{...a,default:()=>B(A,null,[a.default?.()??e.text,!e.hideSlider&&B("div",{ref:m,class:U(["v-tab__slider",s.value]),style:p(l.value)},null)])})}),Ie({},f)}}),we=Symbol.for("vuetify:v-window"),ye=Symbol.for("vuetify:v-window-group"),Se=R({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},crossfade:Boolean,transitionDuration:Number,...ve(),...de(),...Ge()},"VWindow"),K=W()({name:"VWindow",directives:{vTouch:J},props:Se(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:a}=n;const{themeClasses:t}=Me(e),{isRtl:s}=Xe(),{t:l}=Ae(),o=De(e,ye),c=N(),f=h(()=>s.value?!e.reverse:e.reverse),m=q(!1),g=h(()=>{if(e.crossfade)return"v-window-crossfade-transition";const u=e.direction==="vertical"?"y":"x",r=(f.value?!m.value:m.value)?"-reverse":"";return`v-window-${u}${r}-transition`}),T=q(0),i=N(void 0),P=h(()=>o.items.value.findIndex(u=>o.selected.value.includes(u.id)));He(P,(u,d)=>{let r;const b={left:0,top:0};ae&&d>=0&&(r=Oe(c.value),b.left=r?.scrollLeft,b.top=r?.scrollTop);const H=o.items.value.length,L=H-1;H<=2?m.value=u<d:u===L&&d===0?m.value=!1:u===0&&d===L?m.value=!0:m.value=u<d,fe(()=>{if(!ae||!r)return;r.scrollTop!==b.top&&r.scrollTo({...b,behavior:"instant"}),requestAnimationFrame(()=>{if(!r)return;r.scrollTop!==b.top&&r.scrollTo({...b,behavior:"instant"})})})},{flush:"sync"}),ze(we,{transition:g,isReversed:m,transitionCount:T,transitionHeight:i,rootRef:c});const x=S(()=>e.continuous||P.value!==0),D=S(()=>e.continuous||P.value!==o.items.value.length-1);function _(){x.value&&o.prev()}function k(){D.value&&o.next()}const w=h(()=>{const u=[],d={icon:s.value?e.nextIcon:e.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:o.prev,"aria-label":l("$vuetify.carousel.prev")};u.push(x.value?a.prev?a.prev({props:d}):v(j,d,null):B("div",null,null));const r={icon:s.value?e.prevIcon:e.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:o.next,"aria-label":l("$vuetify.carousel.next")};return u.push(D.value?a.next?a.next({props:r}):v(j,r,null):B("div",null,null)),u}),y=h(()=>e.touch===!1?e.touch:{...{left:()=>{f.value?_():k()},right:()=>{f.value?k():_()},start:d=>{let{originalEvent:r}=d;r.stopPropagation()}},...e.touch===!0?{}:e.touch});return Y(()=>ce(v(e.tag,{ref:c,class:U(["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover","v-window--vertical-arrows":!!e.verticalArrows,"v-window--crossfade":!!e.crossfade},t.value,e.class]),style:p([e.style,{"--v-window-transition-duration":Le()?null:I(e.transitionDuration,"ms")}])},{default:()=>[B("div",{class:"v-window__container",style:{height:i.value}},[a.default?.({group:o}),e.showArrows!==!1&&B("div",{class:U(["v-window__controls",{"v-window__controls--left":e.verticalArrows==="left"||e.verticalArrows===!0},{"v-window__controls--right":e.verticalArrows==="right"}])},[w.value])]),a.additional?.({group:o})]}),[[J,y.value]])),{group:o}}}),bt=R({...ue(Se(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),wt=W()({name:"VTabsWindow",props:bt(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:a}=n;const t=me(ee,null),s=he(e,"modelValue"),l=h({get(){return s.value!=null||!t?s.value:t.items.value.find(o=>t.selected.value.includes(o.id))?.value},set(o){s.value=o}});return Y(()=>{const o=K.filterProps(e);return v(K,E({_as:"VTabsWindow"},o,{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),a)}),{}}}),Te=R({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ve(),...Je(),...qe()},"VWindowItem"),Q=W()({name:"VWindowItem",directives:{vTouch:J},props:Te(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:a}=n;const t=me(we),s=Ne(e,ye),{isBooted:l}=je();if(!t||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=q(!1),c=h(()=>l.value&&(t.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function f(){!o.value||!t||(o.value=!1,t.transitionCount.value>0&&(t.transitionCount.value-=1,t.transitionCount.value===0&&(t.transitionHeight.value=void 0)))}function m(){o.value||!t||(o.value=!0,t.transitionCount.value===0&&(t.transitionHeight.value=I(t.rootRef.value?.clientHeight)),t.transitionCount.value+=1)}function g(){f()}function T(x){o.value&&fe(()=>{!c.value||!o.value||!t||(t.transitionHeight.value=I(x.clientHeight))})}const i=h(()=>{const x=t.isReversed.value?e.reverseTransition:e.transition;return c.value?{name:typeof x!="string"?t.transition.value:x,onBeforeEnter:m,onAfterEnter:f,onEnterCancelled:g,onBeforeLeave:m,onAfterLeave:f,onLeaveCancelled:g,onEnter:T}:!1}),{hasContent:P}=Ue(e,s.isSelected);return Y(()=>v(Fe,{transition:i.value,disabled:!l.value},{default:()=>[ce(B("div",{class:U(["v-window-item",s.selectedClass.value,e.class]),style:p(e.style)},[P.value&&a.default?.()]),[[Ke,s.isSelected.value]])]})),{groupItem:s}}}),yt=R({...Te()},"VTabsWindowItem"),St=W()({name:"VTabsWindowItem",props:yt(),setup(e,n){let{slots:a}=n;return Y(()=>{const t=Q.filterProps(e);return v(Q,E({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),a)}),{}}});function Tt(e){return e?e.map(n=>nt(n)?n:{text:n,value:n}):[]}const xt=R({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,inset:Boolean,insetPadding:[String,Number],insetRadius:[String,Number],sliderColor:String,...tt(ge(),["spaced","sliderTransition","sliderTransitionDuration"]),...st({mandatory:"force",selectedClass:"v-tab-item--selected"}),...et(),...de()},"VTabs"),_t=W()({name:"VTabs",props:xt(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:a,slots:t}=n;const s=he(e,"modelValue"),l=h(()=>Tt(e.items)),{densityClasses:o}=Qe(e),{backgroundColorClasses:c,backgroundColorStyles:f}=re(()=>e.bgColor),{scopeId:m}=Ze();return pe({VTab:{color:S(e,"color"),direction:S(e,"direction"),stacked:S(e,"stacked"),fixed:S(e,"fixedTabs"),inset:S(e,"inset"),sliderColor:S(e,"sliderColor"),sliderTransition:S(e,"sliderTransition"),sliderTransitionDuration:S(e,"sliderTransitionDuration"),hideSlider:S(e,"hideSlider")}}),Y(()=>{const g=le.filterProps(e),T=!!(t.window||e.items.length>0);return B(A,null,[v(le,E(g,{modelValue:s.value,"onUpdate:modelValue":i=>s.value=i,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--inset":e.inset,"v-tabs--stacked":e.stacked},o.value,c.value,e.class],style:[{"--v-tabs-height":I(e.height),"--v-tabs-inset-padding":e.inset?I(e.insetPadding):void 0,"--v-tabs-inset-radius":e.inset?I(e.insetRadius):void 0},f.value,e.style],role:"tablist",symbol:ee},m,a),{default:t.default??(()=>l.value.map(i=>t.tab?.({item:i})??v(be,E(i,{key:i.text,value:i.value,spaced:e.spaced}),{default:t[`tab.${i.value}`]?()=>t[`tab.${i.value}`]?.({item:i}):void 0}))),prev:t.prev,next:t.next}),T&&v(wt,E({modelValue:s.value,"onUpdate:modelValue":i=>s.value=i,key:"tabs-window"},m),{default:()=>[l.value.map(i=>t.item?.({item:i})??v(St,{value:i.value},{default:()=>t[`item.${i.value}`]?.({item:i})})),t.window?.()]})])}),{}}}),Bt=Z({__name:"MapList",setup(e){const{mapsStore:n}=at(),{group:a,groupMaps:t}=n;return(s,l)=>(C(),X(ot,{fluid:"",class:"d-flex flex-column pa-0"},{default:V(()=>[v(_t,{modelValue:M(a),"onUpdate:modelValue":l[0]||(l[0]=o=>se(a)?a.value=o:null),class:"flex-grow-0 flex-shrink-0",grow:""},{default:V(()=>[(C(!0),z(A,null,F(M(oe),([o,c])=>(C(),X(be,{key:o,value:o},{default:V(()=>[G(O(c),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),v(K,{modelValue:M(a),"onUpdate:modelValue":l[1]||(l[1]=o=>se(a)?a.value=o:null),class:"flex-fill overflow-y-auto"},{default:V(()=>[(C(!0),z(A,null,F(M(oe),([o])=>(C(),X(Q,{key:o,value:o},{default:V(()=>[v(gt,{"map-summaries":M(t)},null,8,["map-summaries"])]),_:1},8,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}))}});export{Bt as default};
