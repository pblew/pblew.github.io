import{z as Z,aj as H,U as ee,bw as te,M as le,as as ae,C as ne,Y as se,aT as ue,$ as oe,a0 as x,l as S,aS as G,aW as ie,a1 as ce,E as re,f as h,bx as $,ap as L,aP as ve,aU as fe}from"./index-Bx4UKsSY.js";function U(a){const s=Math.abs(a);return Math.sign(a)*(s/((1/.501-2)*(1-s)+1))}function W(a){let{selectedElement:d,containerSize:s,contentSize:i,isRtl:z,currentScrollOffset:r,isHorizontal:n}=a;const u=n?d.clientWidth:d.clientHeight,t=n?d.offsetLeft:d.offsetTop,c=z&&n?i-t-u:t,v=s+r,o=u+c,g=u*.4;return c<=r?r=Math.max(c-g,0):v<=o&&(r=Math.min(r-(v-o-g),i-s)),r}function de(a){let{selectedElement:d,containerSize:s,contentSize:i,isRtl:z,isHorizontal:r}=a;const n=r?d.clientWidth:d.clientHeight,u=r?d.offsetLeft:d.offsetTop,t=z&&r?i-u-n/2-s/2:u+n/2-s/2;return Math.min(i-s,Math.max(0,t))}const pe=Symbol.for("vuetify:v-slide-group"),me=Z({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:pe},nextIcon:{type:H,default:"$next"},prevIcon:{type:H,default:"$prev"},showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||["always","desktop","mobile"].includes(a)},...ee(),...te(),...le(),...ae({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Se=ne()({name:"VSlideGroup",props:me(),emits:{"update:modelValue":a=>!0},setup(a,d){let{slots:s}=d;const{isRtl:i}=se(),{displayClasses:z,mobile:r}=ue(a),n=oe(a,a.symbol),u=x(!1),t=x(0),c=x(0),v=x(0),o=S(()=>a.direction==="horizontal"),{resizeRef:g,contentRect:T}=G(),{resizeRef:f,contentRect:O}=G(),I=S(()=>n.selected.value.length?n.items.value.findIndex(e=>e.id===n.selected.value[0]):-1),Y=S(()=>n.selected.value.length?n.items.value.findIndex(e=>e.id===n.selected.value[n.selected.value.length-1]):-1);if(ie){let e=-1;ce(()=>[n.selected.value,T.value,O.value,o.value],()=>{cancelAnimationFrame(e),e=requestAnimationFrame(()=>{if(T.value&&O.value){const l=o.value?"width":"height";c.value=T.value[l],v.value=O.value[l],u.value=c.value+1<v.value}if(I.value>=0&&f.value){const l=f.value.children[Y.value];I.value===0||!u.value?t.value=0:a.centerActive?t.value=de({selectedElement:l,containerSize:c.value,contentSize:v.value,isRtl:i.value,isHorizontal:o.value}):u.value&&(t.value=W({selectedElement:l,containerSize:c.value,contentSize:v.value,isRtl:i.value,currentScrollOffset:t.value,isHorizontal:o.value}))}})})}const R=x(!1);let _=0,M=0;function q(e){const l=o.value?"clientX":"clientY";M=(i.value&&o.value?-1:1)*t.value,_=e.touches[0][l],R.value=!0}function B(e){if(!u.value)return;const l=o.value?"clientX":"clientY",p=i.value&&o.value?-1:1;t.value=p*(M+_-e.touches[0][l])}function D(e){const l=v.value-c.value;t.value<0||!u.value?t.value=0:t.value>=l&&(t.value=l),R.value=!1}function N(){g.value&&(g.value[o.value?"scrollLeft":"scrollTop"]=0)}const k=x(!1);function X(e){if(k.value=!0,!(!u.value||!f.value)){for(const l of e.composedPath())for(const p of f.value.children)if(p===l){t.value=W({selectedElement:p,containerSize:c.value,contentSize:v.value,isRtl:i.value,currentScrollOffset:t.value,isHorizontal:o.value});return}}}function j(e){k.value=!1}function K(e){var l;!k.value&&!(e.relatedTarget&&((l=f.value)!=null&&l.contains(e.relatedTarget)))&&m()}function J(e){f.value&&(o.value?e.key==="ArrowRight"?m(i.value?"prev":"next"):e.key==="ArrowLeft"&&m(i.value?"next":"prev"):e.key==="ArrowDown"?m("next"):e.key==="ArrowUp"&&m("prev"),e.key==="Home"?m("first"):e.key==="End"&&m("last"))}function m(e){var l,p,b,w,V;if(f.value)if(!e)(l=ve(f.value)[0])==null||l.focus();else if(e==="next"){const y=(p=f.value.querySelector(":focus"))==null?void 0:p.nextElementSibling;y?y.focus():m("first")}else if(e==="prev"){const y=(b=f.value.querySelector(":focus"))==null?void 0:b.previousElementSibling;y?y.focus():m("last")}else e==="first"?(w=f.value.firstElementChild)==null||w.focus():e==="last"&&((V=f.value.lastElementChild)==null||V.focus())}function P(e){const l=t.value+(e==="prev"?-1:1)*c.value;t.value=fe(l,0,v.value-c.value)}const Q=S(()=>{let e=t.value>v.value-c.value?-(v.value-c.value)+U(v.value-c.value-t.value):-t.value;t.value<=0&&(e=U(-t.value));const l=i.value&&o.value?-1:1;return{transform:`translate${o.value?"X":"Y"}(${l*e}px)`,transition:R.value?"none":"",willChange:R.value?"transform":""}}),A=S(()=>({next:n.next,prev:n.prev,select:n.select,isSelected:n.isSelected})),C=S(()=>{switch(a.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return u.value||Math.abs(t.value)>0;case"mobile":return r.value||u.value||Math.abs(t.value)>0;default:return!r.value&&(u.value||Math.abs(t.value)>0)}}),E=S(()=>Math.abs(t.value)>0),F=S(()=>v.value>Math.abs(t.value)+c.value);return re(()=>h(a.tag,{class:["v-slide-group",{"v-slide-group--vertical":!o.value,"v-slide-group--has-affixes":C.value,"v-slide-group--is-overflowing":u.value},z.value,a.class],style:a.style,tabindex:k.value||n.selected.value.length?-1:0,onFocus:K},{default:()=>{var e,l,p,b,w;return[C.value&&h("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!E.value}],onClick:()=>E.value&&P("prev")},[(l=(e=s.prev)==null?void 0:e.call(s,A.value))!=null?l:h($,null,{default:()=>[h(L,{icon:i.value?a.nextIcon:a.prevIcon},null)]})]),h("div",{key:"container",ref:g,class:"v-slide-group__container",onScroll:N},[h("div",{ref:f,class:"v-slide-group__content",style:Q.value,onTouchstartPassive:q,onTouchmovePassive:B,onTouchendPassive:D,onFocusin:X,onFocusout:j,onKeydown:J},[(p=s.default)==null?void 0:p.call(s,A.value)])]),C.value&&h("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!F.value}],onClick:()=>F.value&&P("next")},[(w=(b=s.next)==null?void 0:b.call(s,A.value))!=null?w:h($,null,{default:()=>[h(L,{icon:i.value?a.prevIcon:a.nextIcon},null)]})])]}})),{selected:n.selected,scrollTo:P,scrollOffset:t,focus:m}}});export{Se as V,me as m};
